local StarterGui = game:GetService("StarterGui")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Lighting = game:GetService("Lighting")
local workspace = game:GetService("Workspace")

StarterGui:SetCore("SendNotification", {
    Title = "ACTIVATE MORE OPTIMIZATION",
    Text = "Do you want to enable 99999900% optimization?",
    Duration = 12,
    Button1 = "Yes",
    Button2 = "No",
    Callback = function(button)
        if button == "Button1" then
            task.spawn(function()
                while task.wait(3) do
                    for _, obj in pairs(workspace:GetDescendants()) do
                        if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Smoke") or obj:IsA("Fire") or obj:IsA("Beam") or obj:IsA("Explosion") then
                            obj.Enabled = false
                        elseif obj:IsA("PointLight") or obj:IsA("SpotLight") or obj:IsA("SurfaceLight") then
                            obj.Enabled = false
                        elseif obj:IsA("Decal") or obj:IsA("Texture") then
                            obj:Destroy()
                        end
                    end
                end
            end)

            Lighting.GlobalShadows = false
            Lighting.FogEnd = 9e9
            Lighting.Brightness = 1
            Lighting.EnvironmentDiffuseScale = 0
            Lighting.EnvironmentSpecularScale = 0
            Lighting.Outlines = false

            if Lighting:FindFirstChildOfClass("Atmosphere") then
                Lighting:FindFirstChildOfClass("Atmosphere"):Destroy()
            end
            if Lighting:FindFirstChildOfClass("Sky") then
                Lighting:FindFirstChildOfClass("Sky"):Destroy()
            end

            local function optimizePlayer(plr)
                if plr ~= LocalPlayer then
                    plr.CharacterAdded:Connect(function(char)
                        task.wait(1)
                        for _, obj in pairs(char:GetDescendants()) do
                            if obj:IsA("Accessory") or obj:IsA("ParticleEmitter") or obj:IsA("Trail") then
                                obj:Destroy()
                            end
                        end
                    end)
                end
            end

            for _, plr in pairs(Players:GetPlayers()) do
                optimizePlayer(plr)
            end
            Players.PlayerAdded:Connect(optimizePlayer)

            StarterGui:SetCore("SendNotification", {
                Title = "OPTIMIZED 99999900%",
                Text = "BY DLADEADRAILS9 FOLLOW HIM",
                Duration = 8
            })
        else
            StarterGui:SetCore("SendNotification", {
                Title = "OPTIMIZED",
                Text = "BY DLADEADRAILS9 FOLLOW HIM",
                Duration = 8
            })
        end
    end
})
